// Minified and optimized script for Ubora Services
"use strict";if("serviceWorker"in navigator){window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered with scope:",e.scope)}).catch(e=>{console.error("Service Worker registration failed:",e)})})}const isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;document.addEventListener("DOMContentLoaded",function(){if(isMobile){document.documentElement.classList.add("mobile-device");const e=document.querySelectorAll('img[loading="lazy"]');if("IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){e.target.loading="eager";t.unobserve(e.target)}})});e.forEach(e=>{t.observe(e)})}}if("undefined"!=typeof AOS){setTimeout(()=>{AOS.init({duration:isMobile?400:800,easing:"ease-in-out",once:!0,mirror:!1,disable:!!isMobile&&"phone",offset:isMobile?20:50})},100)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);if(n){const e=n.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:e,behavior:"smooth"})}})});const e=document.querySelectorAll(".navbar-nav a"),t=document.querySelectorAll("section[id]"),n=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const n=t.target.getAttribute("id");e.forEach(e=>{e.classList.remove("active");e.getAttribute("href")==="#"+n&&e.classList.add("active")})}})},{rootMargin:"-30% 0px -70% 0px"});t.forEach(e=>{n.observe(e)});const r=()=>{const e=document.querySelectorAll(".counter-number");e.forEach(e=>{const t=+e.getAttribute("data-count"),n=()=>{const r=+e.innerText,o=t/200;r<t?(e.innerText=Math.ceil(r+o),requestAnimationFrame(n)):e.innerText=t};requestAnimationFrame(n)})},o=document.querySelector(".stats-counter");if(o){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(r(),this.unobserve(e.target))})},{threshold:.5}).observe(o)}const s=document.getElementById("contactForm"),c=document.getElementById("quoteForm");function a(e){let t=!0;return e.querySelectorAll("input[required], textarea[required], select[required]").forEach(e=>{e.value.trim()?(e.classList.remove("is-invalid"),"email"===e.type&&e.value.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)&&(t=!1,e.classList.add("is-invalid")),e.id.includes("Phone")&&e.value.trim()&&!/^[\d\s\+\-\(\)]{10,15}$/.test(e.value)&&(t=!1,e.classList.add("is-invalid"))):(t=!1,e.classList.add("is-invalid"))}),t}function i(e,t){const n=document.createElement("div");n.className="alert alert-success mt-3",n.innerText=t,e.appendChild(n),e.reset(),setTimeout(()=>{n.remove()},5e3)}s&&s.addEventListener("submit",async function(e){if(e.preventDefault(),a(this))try{const e=await fetch("https://sendcontactmessage-35666ugduq-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"contact",name:document.getElementById("name").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,service:document.getElementById("service").value,message:document.getElementById("message").value})});if(!e.ok)throw new Error("Network response was not ok");i(s,"Thank you for contacting us! We will get back to you soon.")}catch(e){console.error("Error:",e),(e=>{const t=document.createElement("div");t.className="alert alert-danger mt-3",t.innerText=e,s.appendChild(t),setTimeout(()=>{t.remove()},5e3)})(e)}}),c&&c.addEventListener("submit",async function(e){if(e.preventDefault(),a(this))try{const e=await fetch("https://sendcontactmessage-35666ugduq-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"quote",quoteName:document.getElementById("quoteName").value,quoteEmail:document.getElementById("quoteEmail").value,quotePhone:document.getElementById("quotePhone").value,quoteLocation:document.getElementById("quoteLocation").value,quoteService:document.getElementById("quoteService").value,quoteDetails:document.getElementById("quoteDetails").value})});if(!e.ok)throw new Error("Network response was not ok");i(c,"Thank you for requesting a quote! Our team will provide a detailed estimate within 24 hours.")}catch(e){console.error("Error:",e)}});const l=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),l.unobserve(e.target))})},{threshold:.1,rootMargin:"50px"});document.querySelectorAll(".service-card, .why-us-card, .client-logo, .contact-info, .contact-form, .quote-card").forEach(e=>{e.classList.add("fade-in"),l.observe(e)});let d=0;const u=document.querySelector(".navbar"),m=(e,t)=>{let n;return function(){n||(e.apply(this,arguments),n=!0,setTimeout(()=>n=!1,t))}};window.addEventListener("scroll",m(function(){const e=window.scrollY||document.documentElement.scrollTop;e>100?u.classList.add("scrolled"):u.classList.remove("scrolled"),d=e},100));if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.dataset.src&&(e.src=e.dataset.src)})}else{const e=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const n=t.target;n.dataset.src&&(n.src=n.dataset.src),e.unobserve(n)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}});
